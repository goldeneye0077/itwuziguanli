# 模块 01｜智慧门户（Smart Dashboard）

## 1. 范围与目标

- 首页 Hero 横幅：展示 IT 政策/新设备宣传
- 公告栏：系统通知、维护公告
- 我的资产：当前用户持有资产及状态
- 快捷入口：我要领用/故障报修/资产归还（跳转路由）

## 2. 前端路由与页面

- 路由：`/dashboard`
- 页面区块：HeroBanner、AnnouncementBoard、MyAssetsCardList、QuickActions

## 3. OpenAPI 草案（接口字段级别）

```yaml
paths:
  /api/v1/dashboard/hero:
    get:
      summary: 获取首页 Hero 配置
      security: [{ bearerAuth: [] }]
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required: [success, data]
                properties:
                  success: { type: boolean }
                  data:
                    type: object
                    required: [title, subtitle, image_url, link_url]
                    properties:
                      title: { type: string, example: "IT 资产管理新体验" }
                      subtitle: { type: string, example: "电商化申领 + 智能审批 + OCR 入库" }
                      image_url: { type: string, nullable: true }
                      link_url: { type: string, nullable: true }

  /api/v1/announcements:
    get:
      summary: 获取公告列表
      security: [{ bearerAuth: [] }]
      parameters:
        - in: query
          name: page
          schema: { type: integer, minimum: 1, default: 1 }
        - in: query
          name: page_size
          schema: { type: integer, minimum: 1, maximum: 50, default: 10 }
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required: [success, data, meta]
                properties:
                  success: { type: boolean }
                  data:
                    type: array
                    items:
                      type: object
                      required: [id, title, content, published_at]
                      properties:
                        id: { type: integer, format: int64 }
                        title: { type: string }
                        content: { type: string }
                        published_at: { type: string, format: date-time }
                  meta:
                    type: object
                    required: [page, page_size, total]
                    properties:
                      page: { type: integer, minimum: 1 }
                      page_size: { type: integer, minimum: 1, maximum: 50 }
                      total: { type: integer, minimum: 0 }

  /api/v1/me/assets:
    get:
      summary: 获取当前用户持有的资产列表
      security: [{ bearerAuth: [] }]
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required: [success, data]
                properties:
                  success: { type: boolean }
                  data:
                    type: array
                    items:
                      type: object
                      required: [id, asset_tag, sku_id, sn, status, inbound_at]
                      properties:
                        id: { type: integer, format: int64 }
                        asset_tag: { type: string }
                        sku_id: { type: integer, format: int64 }
                        sn: { type: string }
                        status: { type: string }
                        holder_user_id: { type: integer, format: int64, nullable: true }
                        inbound_at: { type: string, format: date-time }
```

## 4. 数据表与状态机关联

- 数据表（见 [30-MySQL-DDL.md](../30-MySQL-DDL.md)）：asset、sys_user
- 状态机（见 [10-状态机定义.md](../10-状态机定义.md)）：仅展示，不改变状态
